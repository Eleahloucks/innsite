{% extends 'base.html' %}

{% block title %}{{ location.location_title }} - Details{% endblock %}

{% block body %}
<h2>Book Now</h2>
<form id = "book-form" method="post" action = "/book-now">
  <fieldset>
    <!-- need the format to be like global_date_format = "%m-%d-%Y"  -->
    <div>
      <label for = "arrival">Arrival Date:</label>
      <input type="date" name="arrival" id = "arrival">
    </div>

    <div>
      <label for = "departure">Departure Date:</label>
      <input type="date" name="departure" id = "departure">
    </div>

    <div>
      <label for="location">Location:</label>
      <select name ="location" id = "location">
          <option value = "{{location.location_title}}">{{location.location_title}}</option>
      </select>
    </div>
    <input type = "hidden" value = {{location.location_id}} id = "location_id">
    <button id = "book-now" type = "button" value = 'book-now'> Book Now </button>

  </fieldset>
</form>

<h1>{{ location.location_title }}</h1>

<p>
  {{ location.overview }}
</p>

<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="true">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    {% for i in range(1,6) %}
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="{{ i }}" aria-label="Slide {{ i + 1 }}"></button>
    {% endfor %}
  </div>

  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{{location.images[0].img_src}}" class="d-block w-100" alt="...">
    </div>
    {% for image in location.images[1:] %}
    <div class="carousel-item">
      <img src="{{image.img_src}}" class="d-block w-100" alt="...">
    </div>
    {% endfor %}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<h5>Amenities</h5>
<p>
  {% for amenity in location.amenities %}
   <li>{{ amenity.amenity_title }}</li>
  {% endfor %}
</p>
<div id = 'location-review'>
  <h3>Reviews</h3>
  <p> {{ reviews.score }} stars</p>
  <p> <b>{{ reviews.title }}</b> </p>
  <p> {{ reviews.body }} </p>
</div>

<a href = '/locations'> See all Locations </a>

<script src = "/static/js/index.js"></script>

{% endblock %}